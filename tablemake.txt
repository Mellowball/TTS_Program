use mysql;
select user, host, password from user;
CREATE USER 'root'@'%' IDENTIFIED BY 'raspberry'; 
update user SET password=password('raspberry') where user='root';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'raspberry';
FLUSH PRIVILEGES;
SHOW GRANTS for 'root'@'%';

CREATE USER 'airclean'@'%' IDENTIFIED BY 'raspberry'; 
DROP DATABASE db_air;
SHOW DATABASES;
CREATE DATABASE db_air;
SHOW databases;
use db_air;
GRANT ALL PRIVILEGES ON db_air.* TO 'airclean'@'%' IDENTIFIED BY 'raspberry';
FLUSH PRIVILEGES;
SHOW GRANTs for airclean;

CREATE TABLE air_state
(                
list_no     INT         NOT NULL    AUTO_INCREMENT    ,
list_time   DATETIME    NOT NULL   ,
O2          FLOAT                  ,
CO2         FLOAT                  ,
dust        FLOAT                  ,
temp        FLOAT                  ,
hum         FLOAT                  ,
NH3         FLOAT                  ,
H2S         FLOAT                  ,
HF          FLOAT                  ,
NO2         FLOAT                  ,
CL2         FLOAT                  ,
O3          FLOAT                  ,
CO          FLOAT                  ,
SO2         FLOAT                  ,
fan_in      TINYINT    NOT NULL    ,
fan_out     TINYINT    NOT NULL    ,
req_con     TINYINT    NOT NULL    ,
req_fan_in  TINYINT    NOT NULL    ,
req_fan_out TINYINT    NOT NULL    ,
PRIMARY KEY(list_no)                );

CREATE TABLE air_log
(                
list_no     INT         NOT NULL    AUTO_INCREMENT    ,
list_time   DATETIME    NOT NULL   ,
O2          FLOAT                  ,
CO2         FLOAT                  ,
dust        FLOAT                  ,
temp        FLOAT                  ,
hum         FLOAT                  ,
NH3         FLOAT                  ,
H2S         FLOAT                  ,
HF          FLOAT                  ,
NO2         FLOAT                  ,
CL2         FLOAT                  ,
O3          FLOAT                  ,
CO          FLOAT                  ,
SO2         FLOAT                  ,
fan_in      TINYINT    NOT NULL    ,
fan_out     TINYINT    NOT NULL    ,
PRIMARY KEY(list_no)                );

CREATE TABLE air_alarm
(                
list_no     INT         NOT NULL AUTO_INCREMENT  ,
list_time   DATETIME    NOT NULL    ,
O2          FLOAT                  ,
CO2         FLOAT                  ,
dust        FLOAT                  ,
temp        FLOAT                  ,
hum         FLOAT                  ,
NH3         FLOAT                  ,
H2S         FLOAT                  ,
HF          FLOAT                  ,
NO2         FLOAT                  ,
CL2         FLOAT                  ,
O3          FLOAT                  ,
CO          FLOAT                  ,
SO2         FLOAT                  ,
en_alarm    TINYINT    NOT NULL    ,
daydb       INT                    ,
req_con     TINYINT    NOT NULL    ,
PRIMARY KEY(list_no)                );

SHOW tables;
desc air_state;
desc air_log;
desc air_alarm;
INSERT INTO air_state( list_time,o2,co2,dust,temp,hum,NH3,H2S,HF,NO2,CL2,O3,CO,SO2,fan_in,fan_out,req_con,req_fan_in,req_fan_out) VALUES (now(), 21,31,51,21,81, 1,1,1,1,1,1,1,1, 0,0,0,0,0);
INSERT INTO air_log( list_time,o2,co2,dust,temp,hum,NH3,H2S,HF,NO2,CL2,O3,CO,SO2,fan_in,fan_out) VALUES (now(), 20,30,50,22,80 ,1,1,1,1,1,1,1,1, 0,0);
INSERT INTO air_alarm( list_time,o2,co2,dust,temp,hum,NH3,H2S,HF,NO2,CL2,O3,CO,SO2,en_alarm,daydb,req_con) VALUES (now(), 100,1000,100,30,100, 1,1,1,1,1,1,1,1, 1, 30,0 );
select * from air_state;
select * from air_log;
select * from air_alarm;
